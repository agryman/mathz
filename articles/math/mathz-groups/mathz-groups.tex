\documentclass{amsart}

\usepackage{mathz-core}
\usepackage{mathz-sets}
\usepackage{mathz-integers}
\usepackage{mathz-groups}

\usepackage{mathz-preamble}

\addbibresource{mathz-references.bib}

\begin{document}

\title{Groups}
\author{Arthur Ryman}
\email[Arthur Ryman]{arthur.ryman@gmail.com}
\date{\today}

\begin{abstract}
	This article formalizes groups and related group-like algebraic structures using 
	\ZN\ and has been type checked by \fuzz.
\end{abstract}

\maketitle

\tableofcontents

\section{Introduction}

Groups are ubiquitous in mathematics and physics.
This article formalizes groups and related group-like algebraic structures using 
\ZN\cite{spivey-zrm}.
It has been type checked by \fuzz\cite{spivey-fm}.

\section{Group-Like Algebraic Structures}

In general, an \textit{algebraic structure} consists of one or mores sets of elements 
equipped with one or more objects, such as operations, defined on them.
A group is an algebraic structure equipped with one binary operation, typically referred to
as its \textit{product} or \textit{group law}.

Magmas, semigroups, monoids, and abelian groups are 
algebraic structures that are like groups but differ from them 
in terms of the properties imposed on their product operation.

\subsection{Genericity}

In general, the definition of a structure does not depend on the concrete types
of its underlying sets of elements.
Instead, the definition of a structure is usually given in terms of one or more \textit{generic parameters}
that represent arbitrary given sets.
We use symbols like $\genT, \genU,$  and $\genV$ as generic parameters in definitions. 
We use symbols like $\setT, \setU,$ and $\setV$ as arbitrary sets in propositions.

\subsection{Partial Binary Operations}

A \textit{partial binary operation} on a set of elements $\genT$ 
is a partial function from pairs of elements to elements.

Define $PBINOP[\genT]$ to be the set of all partial binary operations on $\genT$.

\begin{zed}
	PBINOP[\genT] == \genT \cross \genT \pfun \genT
\end{zed}

%%type PBINOP

Here I am using the convention of defining names consisting of all uppercase letters for sets that are 
declared as \textit{type abbreviations} to the \fuzz\ type checker.

\begin{example}[Integer Division and Modulus]

Integer division and modulus are partial binary operations on $\num$.

\begin{zed}
	(\_ \div \_) \in PBINOP[\num]
\also
	(\_ \mod \_) \in PBINOP[\num]
\end{zed}

\end{example}

\subsection{Total Binary Operations}

A \textit{total binary operation}, or simply a \textit{binary operation}, is a partial binary operation defined on
every pair of elements.

Define $binop[\genT]$ to be the set of all binary operations on $\genT$.

\begin{zed}
	binop[\genT] == \genT \cross \genT \fun \genT
\end{zed}

\begin{remark} Every binary operation is a partial binary operation.

\begin{zed}
	binop[\setT] \subseteq PBINOP[\setT]
\end{zed}

\end{remark}

\begin{example}[Integer Addition, Subtraction, and Multiplication]

Integer addition, subtraction, and multiplication are binary operations on $\num$.

\begin{zed}
	(\_ + \_) \in binop[\num]
\also
	(\_ - \_) \in binop[\num]
\also
	(\_ * \_) \in binop[\num]
\end{zed}

\end{example}

\begin{example}[Integer Division and Modulus]

Integer division and modulus by $0$ is undefined.

\begin{zed}
	\forall n: \num @ (n, 0) \notin \dom (\_ \div \_)
\also
	\forall n: \num @ (n, 0) \notin \dom (\_ \mod \_)
\end{zed}

Therefore, integer division and modulus are not total binary operations on $\num$.

\begin{zed}
	(\_ \div \_) \notin binop[\num]
\also
	(\_ \mod \_) \notin binop[\num]
\end{zed}

\end{example}

\subsection{Carriers}

The main underlying set of an algebraic structure is sometimes referred to as its \textit{carrier}.
When writing informal mathematics, 
it is normally unnecessary to distinguish between a structure and its carrier
since the intended meaning is usually clear from context.
For example, consider the following statement:
\begin{quote}
	Let $G$ be a group and let $g$ be an element of $G$.
\end{quote}
Here the first instance of $G$ stands for the structure while the second stands for its carrier.

However, a set of elements may have more than one structure in a given context.
For example, the set of integers has both additive and multiplicative structures.
In such cases it may be ambiguous if only the carrier is specified.
Furthermore, if the mathematics is expressed using a formal language such as \ZN, 
distinct mathematical objects
must be referred to using distinct names or expressions.

In order to distinguish between structures and their carriers, 
this article adopts the common mathematical practice of defining structures as \textit{tuples}
consisting of a carrier together with one or more additional objects such as operations or
distinguished elements.

When introducing variables to refer to structures and their carriers,
we'll use some typographical convention such as bold font to relate the two.
For example, the structure $\strucA$ has carrier $A$.

Let $A$ be a subset of $\genT$.
We say that a structure $\strucA$ with carrier $A$ is a \textit{structure in} $\genT$.
If $A$ coincides with $\genT$ we say that $\strucA$ is a \textit{structure on} $\genT$.
Note that a structure on $\genT$ is also a structure in $\genT$.

\section{Magmas}

\subsection{Magmas}

A \textit{magma} is a set $A$ equipped with a total binary operation, 
generically referred to as a \textit{product}.
Let $x \opG y$ denote the product of $x$ and $y$.
Regarded as a structure $\strucA$, a magma is a pair $(A, (\_ \opG \_))$.

Define $MAGMA[\genT]$ to be the type abbreviation for a magma structure.

\begin{zed}
	MAGMA[\genT] == \power \genT \cross PBINOP[\genT]
\end{zed}

%%type MAGMA

\begin{schema}{Magma}[\genT]
	A: \power \genT \\
	\_ \opG \_: PBINOP[\genT] \\
	\strucA: MAGMA[\genT]
\where
	(\_ \opG \_) \in binop[A]
\also
	\strucA = (A, (\_ \opG \_))
\end{schema}

\begin{itemize}
	\item The product is a binary operation on $A$.
	\item The structure is the pair consisting of the carrier and the binary operation.
\end{itemize}

Define $magma[\genT]$ to be the set of all magmas in $\genT$.

\begin{zed}
	magma[\genT] == \{~ Magma[\genT] @ \strucA ~\}
\end{zed}

\begin{remark}
Every magma in $\genT$ has type $MAGMA[\genT]$.

\begin{zed}
	magma[\setT] \subseteq MAGMA[\setT]
\end{zed}

\end{remark}

Define $magma\_on(A)$ to be the set of all magmas on $A$.

\begin{zed}
	magma\_on[\genT] == (\lambda A: \power \genT @ \{~ A ~\} \dres magma[\genT])
\end{zed}

\begin{remark}
$magma\_on(A)$ is a subset of $magma[\genT]$.

\begin{zed}
	\forall A:  \power \setT @ magma\_on(A) \subseteq magma[\setT]
\end{zed}
\end{remark}

\begin{remark}
Every magma is a magma on its carrier.

\begin{zed}
	\forall Magma[\setT] @ \strucA \in magma\_on(A)
\end{zed}

\end{remark}

\begin{example}[Integer Addition]

Define $int\_add$ to be the set of integers equipped with addition.
\begin{zed}
	int\_add == (\num, (\_ + \_))
\end{zed}

Integer addition is a magma on $\num$.
\begin{zed}
	int\_add \in magma\_on(\num)
\end{zed}
\end{example}

\begin{example}[Integer Subtraction]

Define $int\_sub$ to be the set of integers equipped with subtraction.

\begin{zed}
	int\_sub == (\num, (\_ - \_))
\end{zed}

Integer subtraction is a magma on $\num$.

\begin{zed}
	int\_sub \in magma\_on(\num)
\end{zed}

\end{example}

\begin{example}[Integer Multiplication]

Define $int\_mul$ to be the set of integers equipped with multiplication.

\begin{zed}
	int\_mul == (\num, (\_ * \_))
\end{zed}

Integer multiplication is a magma on $\num$.

\begin{zed}
	int\_mul \in magma\_on(\num)
\end{zed}

\end{example}

\subsection{Maps and Homomorphisms}

A \textit{magma map} from $\strucA$ to $\strucA'$ is a map of their carriers.
We refer to $A$ as the \textit{domain} of the map and $A'$ as its \textit{codomain}.
Alternatively, we refer to $A$ as the \textit{source} of the map and $A'$ its \textit{target}.

Just as magmas are structures, so also are magma maps.
Recall that we may informally use the same name, say $A$, to refer to both a magma and its carrier.
Similarly, we may informally use the same name, say $f$, to refer to both a magma map
structure and its underlying map of the carriers.
When we need to distinguish between the structure and its underlying map,
we'll use some typographic convention to relate the two.
For example, we may use $F$ for the structure and $f$ for its underlying map.
That being said, the formal text will always use distinct names in any given context.

Define $MAGMA\_MAP[\genT, \genU]$ to be the type abbreviation for the set of
all maps from magmas in $\genT$ to magmas in $\genU$.

\begin{zed}
	MAGMA\_MAP[\genT, \genU] == (MAGMA[\genT] \cross MAGMA[\genU]) \cross (\genT \pfun \genU)
\end{zed}

\begin{schema}{Magma\_Map}[\genT, \genU]
	Magma[\genT] \\
	Magma'[\genU] \\
	f: \genT \pfun \genU \\
	F: MAGMA\_MAP[\genT, \genU]
\where
	f \in A \fun A'
\also
	F = (\strucA, \strucA') \mapsto f
\end{schema}

\begin{itemize}
	\item $f$ maps $A$ to $A'$
	\item A magma map structure $F$ consists of a pair of magmas and a map $f$ between their carriers.
\end{itemize}

Define $magma\_Map[\genT, \genU]$ to be the set of all magma maps
from magmas in $\genT$ to magmas in $\genU$.

\begin{zed}
	magma\_Map[\genT, \genU] == \{~Magma\_Map[\genT, \genU] @ F ~\}
\end{zed}

Define $magma\_map(\strucA, \strucA')$ to be the subset of magma maps 
from $\strucA$ to $\strucA'$.

\begin{zed}
	magma\_map[\genT, \genU] == \\
	\t1	(\lambda \strucA: magma[\genT]; \strucA': magma[\genU] @ \\
	\t2		\{(\strucA, \strucA') \} \dres magma\_Map[\genT, \genU])
\end{zed}

\begin{remark} $magma\_map(\strucA, \strucA')$ is a subset of $magma\_Map[\genT, \genU]$.

\begin{zed}
	\forall \strucA: magma[\setT]; \strucA': magma[\setU] @ \\
	\t1	magma\_map(\strucA, \strucA') \subseteq magma\_Map[\setT, \setU]
\end{zed}

\end{remark}

A \textit{magma homomorphism} is magma map that preserves products.

\begin{schema}{Magma\_Hom}[\genT, \genU]
	Magma\_Map[\genT, \genU]
\where
	\forall x, y: A @ f(x \opG y) = f(x) \opG' f(y)
\end{schema}

\begin{itemize}
	\item $f$ preserves the product operation
\end{itemize}

Define $magma\_Hom[\genT, \genU]$ to be the set of all magma homomorphisms
from magmas in $\genT$ to magmas in $\genU$.

\begin{zed}
	magma\_Hom[\genT, \genU] == \{~Magma\_Hom[\genT, \genU] @ F ~\}
\end{zed}

Define $magma\_hom(\strucA, \strucA')$ to be the subset of magma homomorphisms 
from $\strucA$ to $\strucA'$.

\begin{zed}
	magma\_hom[\genT, \genU] == \\
	\t1	(\lambda \strucA: magma[\genT]; \strucA': magma[\genU] @ \\
	\t2		\{(\strucA, \strucA') \} \dres magma\_Hom[\genT, \genU])
\end{zed}

\begin{remark} $magma\_hom(\strucA, \strucA')$ is a subset of $magma\_Hom[\genT, \genU]$.

\begin{zed}
	\forall \strucA: magma[\setT]; \strucA': magma[\setU] @ \\
	\t1	magma\_hom(\strucA, \strucA') \subseteq magma\_Hom[\setT, \setU]
\end{zed}

\end{remark}

\begin{example}[Multiplication by a Fixed Integer]

Consider multiplication by a fixed integer $c$.

\begin{schema}{MulConst}
	Magma\_Map[\num, \num] \\
	c: \num
\where
	\strucA = \strucA' = int\_add
\also
	f = (\lambda x: \num @ c * x)
\end{schema}

Define $mul\_const(c)$ to be the corresponding magma map.

\begin{zed}
	mul\_const == \{~ MulConst @ c \mapsto F ~\}
\end{zed}

The magma map $mul\_const(c)$ sends $\num$ to $\num$ and preserves addition.
Therefore this map is a magma homomorphism.

\begin{zed}
	\forall c: \num @ \\
	\t1	mul\_const(c) \in magma\_hom(int\_add, int\_add)
\end{zed}

\begin{proof}
\begin{zed}
	\forall c, x, y: \num @ \\
	\t1	c * (x + y) = c * x + c * y
\end{zed}
\end{proof}

\end{example}

\begin{example}[Exponentiation by a Fixed Natural Number]

Consider exponentiation by a fixed natural number $n$.

\begin{schema}{ExpConst}
	Magma\_Map[\num, \num] \\
	n: \nat
\where
	\strucA = \strucA' = int\_mul
\also
	f = (\lambda x: \num @ x \expN n)
\end{schema}

Define $exp\_const(n)$ to be the corresponding magma map.

\begin{zed}
	exp\_const == \{~ ExpConst @ n \mapsto F ~\}
\end{zed}

The magma map $exp\_const(n)$ sends $\num$ to $\num$ and preserves multiplication.
Therefore this map is a magma homomorphism.

\begin{zed}
	\forall ExpConst @ \\
	\t1	exp\_const(n) \in magma\_hom(int\_mul, int\_mul)
\end{zed}

\begin{proof}
\begin{zed}
	\forall n: \nat; x, y: \num @ \\
	\t1	(x * y) \expN n = x \expN n * y \expN n
\end{zed}
\end{proof}

\end{example}

\subsection{Identity Maps}

Consider the identity map from the carrier of a magma to itself.

\begin{schema}{Magma\_Id}[\genT]
	Magma\_Map[\genT, \genT]
\where
	\strucA = \strucA'
\also
	f = \id A
\end{schema}

\begin{itemize}
	\item the identity magma map sends a magma to itself
	\item the underlying map of carriers is the identity map
\end{itemize}


Define $magma\_id(\strucA)$ to be the magma identity map of $\strucA$.

\begin{zed}
	magma\_id[\genT] == \{~ Magma\_Id[\genT] @ \strucA \mapsto F  ~\} 
\end{zed}

\begin{remark}
\begin{zed}
magma\_id[\setT] \in MAGMA[\setT] \pfun MAGMA\_MAP[\setT, \setT]
\end{zed}
\end{remark}

\begin{remark}

The identity map is a homomorphism.

\begin{zed}
	\forall \strucA: magma[\setT] @ \\
	\t1	magma\_id(\strucA) \in magma\_hom(\strucA, \strucA)
\end{zed}

\end{remark}

\subsection{Composition}

Let $f$ be a homomorphism from $A$ to $A'$ and let $f'$ be a homomorphism from $A'$ to $A''$.
The function composition $g = f' \circ f$ is a map from $A$ to $A''$.

\begin{schema}{Magma\_Composition}[\genT, \genU, \genV]
	Magma\_Hom[\genT, \genU] \\
	Magma\_Hom'[\genU, \genV] \\
	g: \genT \pfun \genV  \\
	G: magma\_Map[\genT, \genV]
\where
	g = f' \circ f
\also
	G = (\strucA, \strucA'') \mapsto g
\end{schema}

\begin{remark}
The composition of two magma homomorphisms is a magma homomorphism.

\begin{zed}
	\forall Magma\_Composition[\setT, \setU, \setV] @ \\
	\t1	G \in magma\_hom(\strucA, \strucA'')
\end{zed}

\end{remark}

Let $G = F' \compMagma F$ denote the composition of magma homomorphisms.

\begin{zed}
	(\_ \compMagma \_)[\genT, \genU, \genV] == \{~ Magma\_Composition[\genT, \genU, \genV] @ (F', F) \mapsto G ~\}
\end{zed}

\begin{remark}
The identity map is a left and right identity element with respect to composition.

\begin{zed}
	\forall Magma\_Hom[\setT, \setU] @ \\
	\t1 magma\_id(\strucA') \compMagma F = F = F \compMagma magma\_id(\strucA)
\end{zed}

\end{remark}

\subsection{Subsets and Submagmas}

\subsubsection{Subsets}

Consider a subset $S$ of the elements $A$ of magma $\strucA$.
Let $\strucS$ be the structure that consists of the pair $(\strucA, S)$.

Define $MAGMA\_SUBSET[\genT]$ to be the type abbreviation for magma subset 
structures in $\genT$.

\begin{zed}
	MAGMA\_SUBSET[\genT] = MAGMA[\genT] \cross \power \genT
\end{zed}

\begin{schema}{Magma\_Subset}[\genT]
	Magma[\genT] \\
	S: \power \genT \\
	\strucS: MAGMA\_SUBSET[\genT]
\where
	S \subseteq A
\also
	\strucS = (\strucA, S)
\end{schema}

Define $magma\_Subset[\genT]$ to be the set of all subset structures in $\genT$.

\begin{zed}
	magma\_Subset[\genT] == \{~ Magma\_Subset[\genT] @ \strucS ~\}
\end{zed}

Define $magma\_subset(\strucA)$ to be the set of all subset structures of $\strucA$.

\begin{zed}
	magma\_subset[\genT] == (\lambda \strucA: magma[\genT] @ \{~ \strucA ~\} \dres magma\_Subset[\genT])
\end{zed}

\begin{example}
The natural numbers are a subset of the integers.

\begin{zed}
	\nat \subset \num
\also
	(int\_add, \nat) \in magma\_subset(int\_add)
\also
	(int\_mul, \nat) \in magma\_subset(int\_mul)
\end{zed}

\end{example}

\subsubsection{Intersection}

Given two subsets $S_1, S_2$ of magma $\strucA$, their intersection $S$ is a subset
of $A$. The intersection of two subset structures is therefore another subset structure.

\begin{schema}{Magma\_Intersection}[\genT]
	Magma\_Subset_1[\genT] \\
	Magma\_Subset_2[\genT] \\
	Magma\_Subset[\genT]
\where
	\strucA_1 = \strucA_2 = \strucA
\also
	S = S_1 \cap S_2
\end{schema}

Intersection is therefore a partial binary operation on the set of subsets of magmas.
Let $\strucS = \strucS_1 \capMagma \strucS_2$ denote the intersection of magma subsets.

\begin{zed}
	(\_ \capMagma \_)[\genT] == \{~ Magma\_Intersection[\genT] @ (\strucS_1, \strucS_2) \mapsto \strucS ~\}
\end{zed}

\begin{remark}
The intersection of subsets of $\strucA$ is a subset of $\strucA$.

\begin{zed}
	\forall \strucA: magma[\setT] @ \\
	\t1	\forall \strucS_1, \strucS_2: magma\_subset(\strucA) @ \\
	\t2		\strucS_1 \capMagma \strucS_2 \in magma\_subset(\strucA)
\end{zed}

\end{remark}

\subsubsection{Submagma}

A \textit{submagma} is a subset that is closed under products.

\begin{schema}{Magma\_Submagma}[\genT]
	Magma\_Subset[\genT]
\where
	\forall x, y: S @ x \opG y \in S
\end{schema}

Define $magma\_Submagma[\genT]$ to be the set of all submagma structures in $\genT$.

\begin{zed}
	magma\_Submagma[\genT] == \{~ Magma\_Submagma[\genT] @ \strucS ~\}
\end{zed}

\begin{remark}
Every submagma structure is a subset structure.

\begin{zed}
	magma\_Submagma[\setT] \subseteq magma\_Subset[\setT]
\end{zed}

\end{remark}

Define $magma\_submagma(\strucA)$ to be the set of all submagmas of $\strucA$.

\begin{zed}
	magma\_submagma[\genT] == (\lambda \strucA: magma[\genT] @ \{~ \strucA ~\} \dres magma\_Submagma[\genT])
\end{zed}

\begin{example}
Natural numbers are closed under the operations of addition and multiplication.

\begin{zed}
	(int\_add, \nat) \in magma\_submagma(int\_add)
\also
	(int\_mul, \nat) \in magma\_submagma(int\_mul)
\end{zed}

\end{example}

\begin{remark}
The intersection of submagmas of $\strucA$ is a submagma of $\strucA$.

\begin{zed}
 	\forall Magma\_Intersection[\setT] @ \strucS \in magma\_submagma(\strucA)
\end{zed}

\end{remark}

\subsubsection{Restriction}

A submagma $S$ of $\strucA$ defines a magma $\strucA'$ by restricting the
product to $S$.

\begin{schema}{Magma\_Restriction}[\genT]
	Magma\_Submagma[\genT] \\
	Magma'[\genT]
\where
	A' = S
\also
	\forall x, y: A' @ x \opG' y = x \opG y
\end{schema}

Define $magma\_Restriction[\genT]$ to be the set of all restrictions of submagmas in $\genT$.

\begin{zed}
	magma\_Restriction[\genT] == \{~ Magma\_Restriction[\genT] @ \strucS \mapsto \strucA' ~\}
\end{zed}

Define $magma\_restriction(\strucA)$ to be the set of all restrictions of submagmas of $\strucA$

\begin{zed}
	magma\_restriction[\genT] == (\lambda \strucA: magma[\genT] @ \\
	\t1	magma\_submagma(\strucA) \dres magma\_Restriction[\genT] )
\end{zed}

\begin{remark}
Restriction is a function from submagmas of $\strucA$ to magmas.

\begin{zed}
	\forall \strucA: magma[\setT] @ \\
	\t1	magma\_restriction(\strucA) \in magma\_submagma(\strucA) \fun magma[\setT]
\end{zed}

\end{remark}

\subsection{Images}

The \textit{image} of a magma map is the subset of the target magma that consists of
the image under the map of the elements in the source magma.

\begin{schema}{Magma\_Image}[\genT, \genU]
	Magma\_Map[\genT, \genU] \\
	Magma\_Subset'[\genU]
\where
	S' = f \limg A \rimg
\end{schema}

\begin{remark}
The image of a magma homomorphism is a submagma of its target.

\begin{zed}
	\forall Magma\_Image[\setT, \setU] | \\
	\t1	Magma\_Hom[\setT, \setU] @ \\
	\t2		Magma\_Submagma'[\setU]
\end{zed}

\begin{proof}
It suffices to show that the product of any two elements $x', y'$ in the image $S'$ is 
also in $S'$. By definition of the image, there exists elements $x$ and $y$ in $A$
such that $x' = f(x)$ and $y' = f(y)$.
Therefore $x' \opS' y' = f(x) \opS' f(y) = f(x \opG y)$ which is clearly in the image of $f$. 
\end{proof}

\end{remark}

Define $magma\_image$ to be the function that sends a magma map to its image.

\begin{zed}
	magma\_image[\genT, \genU] == \{~ Magma\_Image[\genT, \genU] @ F \mapsto \strucS' ~\}
\end{zed}

Consider the restriction of the image of a magma homomorphism.

\begin{schema}{Magma\_Im}[\genT, \genU]
	Magma\_Image[\genT, \genU] \\
	Magma\_Hom[\genT, \genU] \\
	Magma\_Restriction'[\genU]
\end{schema}

Define $magma\_im$ to be the function that sends a magma homomorphism to the
restriction of its image.

\begin{zed}
	magma\_im[\genT, \genU] == \{~ Magma\_Im[\genT, \genU] @ F \mapsto \strucA'' ~\}
\end{zed}

\section{Semigroups}

\subsection{Associativity}

A magma is said to be \textit{associative} if the result of applying its operation to any three elements
is independent of the order in which it is applied pairwise.

\begin{schema}{Associative}[\genT]
	Magma[\genT]
\where
	\forall x, y, z: A @ \\
	\t1	x \opG y \opG z = x \opG (y \opG z)
\end{schema}

\subsection{Semigroups}

An associative magma is called a \textit{semigroup}.

\begin{schema}{Semigroup}[\genT]
	Associative[\genT]
\end{schema}

Let $semigroup[\genT]$ denote the set of all semigroups in $\genT$.

\begin{zed}
	semigroup[\genT] == \{~ Semigroup[\genT] @ \strucA  ~\}
\end{zed}

\begin{remark} Every semigroup is a magma.

\begin{zed}
	semigroup[\setT] \subseteq magma[\setT]
\end{zed}

\end{remark}

\begin{example}[Sequence Concatenation]
Finite sequences in $\genT$ with the operation of concatenation form a semigroup
since concatenation is associative.

\begin{schema}{SequenceConcat}[\genT]
	Magma[\seq \genT]
\where
	A = \seq \genT
\also
	\forall x, y: A @ x \opG y = x \cat y
\end{schema}

\begin{zed}
	\forall SequenceConcat[\setT] @ \strucA \in semigroup[\seq \setT]
\end{zed}

\end{example}

\subsection{Homomorphisms}

A \textit{semigroup homomorphism} is a homomorphism of the underlying magmas.

\begin{schema}{Semigroup\_Hom}[\genT, \genU]
	Magma\_Hom[\genT, \genU]
\where
	\strucA \in semigroup[\genT]
\also
	\strucA' \in semigroup[\genU]
\end{schema}

\begin{itemize}
	\item $\strucA$ is a semigroup in $\genT$
	\item $\strucA'$ is a semigroup in $\genU$
\end{itemize}

Let $semigroup\_Hom[\genT, \genU]$ be the set of all homomorphisms from semigroups in $\genT$ to
semigroups in $\genU$.

\begin{zed}
	semigroup\_Hom[\genT, \genU] == \{~ Semigroup\_Hom[\genT, \genU] @ F ~\}
\end{zed}

Let $semigroup\_hom(\strucA, \strucA')$ be the subset of semigroup homomorphisms from $\strucA$ to $\strucA'$.

\begin{zed}
	semigroup\_hom[\genT, \genU] == \\
	\t1	(\lambda \strucA: semigroup[\genT]; \strucA': semigroup[\genU] @ \\
	\t2		\{~ (\strucA, \strucA') ~\} \dres semigroup\_Hom[\genT, \genU])
\end{zed}

\begin{remark}
The identity mapping of a semigroup to itself is a semigroup homomorphism.

\begin{zed}
	\forall Magma\_Id[\setT] @ \\
	\t1	\strucA \in semigroup[\setT] \implies \\
	\t2		Semigroup\_Hom[\setT, \setT]
\end{zed}

\end{remark}

\begin{remark}
Every magma homomorphism of semigroups is a semigroup homomorphism.

\begin{zed}
	\forall Magma\_Hom[\setT, \setU] @ \\
	\t1 \strucA \in semigroup[\setT] \land \strucA' \in semigroup[\setU] \implies \\
	\t2		F \in semigroup\_hom(\strucA, \strucA')
\end{zed}

\end{remark}

\begin{remark}
If $F$ is magma homomorphism from $\strucA$ to $\strucA'$ and $\strucA$ is a semigroup
then the image of $F$ is a semigroup.

\begin{zed}
	\forall Magma\_Hom[\setT, \setU] @ \\
	\t1	\strucA \in semigroup[\setT] \implies magma\_im(F) \in semigroup[\setU]
\end{zed}

\end{remark}

\subsection{Composition}

Consider the composition of semigroup homomorphisms.

\begin{schema}{Semigroup\_Composition}[\genT, \genU, \genV]
	Magma\_Composition[\genT, \genU, \genV] \\
	Semigroup[\genT] \\
	Semigroup'[\genU]
\end{schema}

\begin{remark}
The composition of semigroup homomorphisms is a semigroup homomorphism.

\begin{zed}
	\forall Semigroup\_Composition[\setT, \setU, \setV] @ \\
	\t1	G \in semigroup\_hom(\strucA, \strucA'')
\end{zed}

\end{remark}

\section{Monoids}

\subsection{Identity Elements}

Let $\strucA$ be a magma and let $e$ be an element of $A$.
The element $e$ is said to be an \textit{identity element} of $\strucA$ if left and right 
products with it leave all elements unchanged.

\begin{schema}{IdentityElement}[\genT]
	Magma[\genT] \\
	e: \genT
\where
	e \in A
\also
	\forall x: A @ e \opG x = x = x \opG e
\end{schema}

Clearly, not all magmas have identity elements.
For example, consider the set of even integers under multiplication.
However, if a magma has an identity element, then it is unique.
This will be proved next.

Let $identity\_element$ denote the relation between magmas and their identity elements.

\begin{zed}
	identity\_element[\genT] == \\
	\t1	\{~ IdentityElement[\genT] @ \strucA \mapsto e ~\}
\end{zed}

\begin{remark}

\begin{zed}
	identity\_element[\setT] \in magma[\setT] \rel \setT
\end{zed}

\end{remark}

Consider the case of a magma $\strucA$ that has, possibly distinct, identity elements $e, e'$.

\begin{schema}{IdentityElements}[\genT]
	Magma[\genT] \\
	e, e': \genT
\where
	\strucA \mapsto e \in identity\_element[\genT]
\also
	\strucA \mapsto e' \in identity\_element[\genT]
\end{schema}

\begin{remark}
If a magma has an identity element then it is unique.

\begin{zed}
	\forall IdentityElements[\setT] @ \\
	\t1	e = e'
\end{zed}

\begin{proof}
\begin{argue}
e \\
\t1	= e \opG e'	& $e'$ is an identity element \\
\t1	= e'			& $e$ is an identity element
\end{argue}
\end{proof}

\end{remark}

\begin{remark}
The preceding remark shows that if an identity element exists then it is unique.
This means that the relation from magmas to identity elements is a partial function.

\begin{zed}
identity\_element[\setT] \in magma[\setT] \pfun \setT
\end{zed}

\end{remark}

Identity elements are typically denoted by the symbol  $\zeroG$ when the operation is thought of as an addition
or the symbol $\oneG$ when the operation is thought of as a multiplication.

\subsection{Monoids}

A \textit{monoid} in $\genT$ is a semigroup in $\genT$ that has an identity element.
\begin{schema}{Monoid}[\genT]
	Semigroup[\genT] \\
	IdentityElement[\genT]
\end{schema}

Let $monoid[\genT]$ be the set of all monoids in $\genT$.
\begin{zed}
	monoid[\genT] == \{~ Monoid[\genT] @ \strucA ~\}
\end{zed}

\begin{remark}
Given a monoid we can recover its identity element by applying the $identity\_element$
function to it.

\begin{zed}
	identity\_element[\setT] \in monoid[\setT] \fun \setT
\end{zed}

\end{remark}

\subsection{Homomorphisms}

Let $\strucA$ and $\strucA'$ be monoids and let $f$ map the elements of $A$ to the elements of $A'$.
The map $f$ is said to \textit{preserve identity elements} if it maps the identity element of $\strucA$
to the identity element of $\strucA'$.

\begin{schema}{MapPreservesIdentity}[\genT, \genU]
	Magma\_Map[\genT, \genU] \\
	Monoid[\genT] \\
	Monoid'[\genU]
\where
	f(e) = e'
\end{schema}

A {\em monoid homomorphism} is a homomorphism of the underlying semigroups
that preserves identity.

\begin{schema}{Monoid\_Hom}[\genT, \genU]
	Semigroup\_Hom[\genT, \genU] \\
	 MapPreservesIdentity[\genT, \genU]
\end{schema}

Let $monoid\_Hom[\genT, \genU]$ be the set of all homomorphisms from monoids in $\genT$
to monoids in $\genU$.

\begin{zed}
	monoid\_Hom[\genT, \genU] == \{~ Monoid\_Hom[\genT, \genU] @ F ~\}
\end{zed}

Let $monoid\_hom(\strucA, \strucA')$ denote the set of all monoid homomorphisms from $\strucA$ to $\strucA'$.

\begin{zed}
	monoid\_hom[\genT, \genU] == \\
	\t1	(\lambda \strucA: monoid[\genT]; \strucA': monoid[\genU] @ \\
	\t2		\{~ (\strucA, \strucA') ~\} \dres monoid\_Hom[\genT, \genU])
\end{zed}

\begin{remark}
The identity mapping is a monoid homomorphism.
\end{remark}

\begin{remark}
The composition of two monoid homomorphisms is another monoid homomorphism.
\end{remark}

\section{Groups}

\subsection{Inverse Operations}

Let $\strucA$ be a magma that has an identity element.
A unary operation $inv$ on $A$ is said to be an \textit{inverse operation} if it maps each element
to an element whose product with it is the identity element.

\begin{schema}{InverseOperation}[\genT]
	IdentityElement[\genT] \\
	inv: \genT \pfun \genT
\where
	inv \in A \fun A
\also
	\forall x: A @ x \opG (inv~x) = e = (inv~x)  \opG x
\end{schema}

Let $inverse\_operation$ denote the relation between magmas and their inverse operations.
\begin{zed}
	inverse\_operation[\genT] == \\
	\t1	\{~ InverseOperation[\genT] @ \strucA \mapsto inv ~\}
\end{zed}

\begin{remark}
If a monoid has an inverse operation then it is unique.
\end{remark}

\begin{schema}{InverseOperations}[\genT]
	Monoid[\genT] \\
	inv, inv': \genT \pfun \genT
\where
	(\strucA, inv) \in inverse\_operation[\genT]
\also
	(\strucA, inv') \in inverse\_operation[\genT]
\end{schema}

\begin{zed}
	\forall InverseOperations[\setT] @ inv = inv'
\end{zed}

\begin{proof}
Suppose $inv$ and $inv'$ are inverse operations.
Let $x$ be any element.
\begin{argue}
inv'~x \\
\t1	= (inv'~x) \opG e					& $e$ is an identity element \\
\t1	= (inv'~x) \opG (x \opG (inv~x))			& $inv~x$ is an inverse of $x$ \\
\t1	= ((inv'~x) \opG x) \opG (inv~x)			& associativity \\
\t1	= e \opG (inv~x)					& $inv'~x$ is an inverse of $x$ \\
\t1	= inv~x							& $e$ is an identity element
\end{argue}
\end{proof}

\begin{remark}
Since inverse operations are unique if exist they, the relation between monoids and inverse operations
is a partial function.

\begin{zed}
	inverse\_operation[\setT] \in monoid[\setT] \pfun \setT \pfun \setT
\end{zed}

\end{remark}

\subsection{Groups}

A \textit{group} is a monoid that has an inverse operation.
\begin{schema}{Group}[\genT]
	Monoid[\genT] \\
	InverseOperation[\genT]
\end{schema}

Let $group[\genT]$ be the set of all groups in $\genT$.
\begin{zed}
	group[\genT] == \{~ Group[\genT] @ \strucA ~\}
\end{zed}

\subsection{Homomorphisms}

Let $\strucA$ and $\strucA'$ be groups and let $F$ be a monoid homomorphism. 
The map $f$ is said to \textit{preserve inverses} if it maps the inverses to the inverses.
A \textit{group homomorphism} is a monoid homomorphism that preserves inverses.

\begin{schema}{Group\_Hom}[\genT, \genU]
	Monoid\_Hom[\genT, \genU] \\
	Group[\genT] \\
	Group'[\genU]
\where
	\forall x: A @ f(inv~x) = inv'(f~x)
\end{schema}

Let $group\_Hom[\genT, \genU]$ be the set of all group homomorphisms.

\begin{zed}
	group\_Hom[\genT, \genU] == \{~ Group\_Hom[\genT, \genU] @ F ~\}
\end{zed}

Let $group\_hom(\strucA, \strucA')$ denote the set of all group homomorphisms from $\strucA$ to $\strucA'$.

\begin{zed}
	group\_hom[\genT, \genU] == \\
	\t1	(\lambda \strucA: group[\genT]; \strucA': group[\genU] @ \\
	\t2		\{~ (\strucA, \strucA') ~\} \dres group\_Hom[\genT, \genU])
\end{zed}

\begin{example}[Identity]

The identity mapping is a group homomorphism.

\begin{zed}
	\forall Magma\_Id[\setT] @ F \in group\_hom(\strucA, \strucA)
\end{zed}

\end{example}

\subsection{Composition}

Consider the composition of two group homomorphisms.

\begin{schema}{Group\_Composition}[\genT, \genU, \genV]
	Magma\_Composition[\genT, \genU, \genV] \\
	Group\_Hom[\genT, \genU] \\
	Group\_Hom'[\genU, \genV]
\end{schema}

\begin{remark}
The composition of two group homomorphisms is another group homomorphism.

\begin{zed}
	\forall Group\_Composition[\setT, \setU, \setV] @ G \in group\_Hom[\setT, \setV]
\end{zed}

\end{remark}

\subsection{Bijections}

Let $bij[\genT]$ denote the set of all bijections from $\genT$ to itself.

\begin{zed}
	bij[\genT] == \genT \bij \genT
\end{zed}

Let $Bij[\genT]$ be the structure whose carrier is $bij[\genT]$ and
whose product is composition.

\begin{zed}
	Bij[\genT] == (bij[\genT], (\lambda f, g: bij[\genT] @ g \circ f))
\end{zed}

\begin{remark}
The composition of bijections is a bijection.

\begin{zed}
	\forall f, g: bij[\setT] @ \\
	\t1	f \circ g \in bij[\setT]
\end{zed}

Since bijections are closed under composition, $Bij[\genT]$ is a magma.

\begin{zed}
	Bij[\setT] \in magma[bij[\setT]]
\end{zed}
	
\end{remark}

\begin{remark}
Composition is associative.

\begin{zed}
	\forall f, g, h: bij[\setT] @ \\
	\t1	f \circ (g \circ h) = (f \circ g) \circ h
\end{zed}

Since composition is associative, $Bij[\genT]$ is a semigroup.

\begin{zed}
	Bij[\setT] \in semigroup[bij[\setT]]
\end{zed}

\end{remark}

\begin{remark}
The identity function $\id \genT$ is an identity element for $Bij[\genT]$.

\begin{zed}
	\forall f: bij[\setT] @ \\
	\t1	 \id \setT \circ f = f = f \circ \id \setT
\end{zed}

Since $Bij[\genT]$ has an identity element, it is a monoid.

\begin{zed}
	Bij[\setT] \in monoid[bij[\setT]]
\end{zed}

\end{remark}

\begin{remark}
The relational inverse $f \inv$ of a bijection $f$ is its inverse under composition.

\begin{zed}
	\forall f: bij[\setT] @ \\
	\t1	f \circ f \inv = \id \setT = f \inv \circ f
\end{zed}

Since $Bij[\genT]$ has an inverse operation, it is a group.

\begin{zed}
	Bij[\setT] \in group[bij[\setT]]
\end{zed}

\end{remark}

\subsection{Subgroups}

A \textit{subgroup} $A$ of a group $A'$ is a nonempty subset that is closed under the group product and inverse operation.

\begin{schema}{Subgroup}[\genT]
	A: \power_1 \genT \\
	Group'[\genT]
\where
	A \subseteq A'
\also
	\forall x, y: A @ x \opG' y \in A
\also
	\forall x: A @ inv'(x) \in A
\end{schema}

\begin{itemize}
	\item the subgroup is a subset of the group
	\item the subgroup is closed under products
	\item the subgroup is closed under inverses
\end{itemize}

\begin{remark}
A subgroup contains the group identity element.

\begin{zed}
	\forall Subgroup[\setT] @ identity\_element(\strucA') \in A
\end{zed}

\begin{proof}
By definition, the subgroup $A$ is nonempty. Let $x \in A$.
Therefore $inv'(x) \in A$ since the subgroup is closed under inverses.
Therefore $x \opG' inv'(x) \in A$ since the subgroup is closed under product.
But $x \opG' inv'(x) = e$ the identity element of $A'$. Therefore $e \in A$.
\end{proof}

\end{remark}

A subgroup inherits a group structure from its enclosing group.

\begin{schema}{Subgroup\_Group}[\genT]
	Subgroup[\genT] \\
	Magma[\genT] \\
	e: \genT \\
	inv: \genT \pfun \genT
\where
	(\_ \opG \_) = (\lambda x, y: A @ x \opG' y)
\also
	e = e'
\also
	inv = (\lambda x: A @ inv'(x))
\end{schema}

\begin{itemize}
	\item the subgroup product is the restriction of the group product
	\item the subgroup identity element is the group identity element
	\item the subgroup inverse operation is the restriction of the group inverse operation
\end{itemize}

\begin{remark}
A subgroup is a group.

\begin{zed}
	\forall Subgroup\_Group[\setT] @ Group[\setT]
\end{zed}

\end{remark}

There is a natural inclusion map from the subgroup to the group.

\begin{schema}{Subgroup\_Inclusion}[\genT]
	Subgroup\_Group[\genT] \\
	Magma\_Map[\genT, \genT]
\where
	f = \id A
\end{schema}

\begin{itemize}
	\item the map is the inclusion of the subgroup into the group
\end{itemize}

\begin{remark}
The subgroup inclusion map is a group homomorphism.

\begin{zed}
	\forall Subgroup\_Inclusion[\setT] @ Group\_Hom[\setT, \setT]
\end{zed}

\end{remark}

\section{Abelian Groups}

\subsection{Commutativity}

A magma $\strucA$ in $\genT$ is said to be {\em commutative} when the product of two elements doesn't depend on 
their order.
\begin{schema}{Commutative}[\genT]
	Magma[\genT]
\where
	\forall x, y: A @ x \opG y = y \opG x
\end{schema}

\subsection{Abelian Groups}

An \textit{abelian group} is a group in which the product is commutative.

\begin{schema}{AbelianGroup}[\genT]
	Group[\genT] \\
	Commutative[\genT]
\end{schema}

Let $abgroup[\genT]$ denote the set of all abelian groups in $\genT$.
\begin{zed}
	abgroup[\genT] == \{~ AbelianGroup[\genT] @ \strucA ~\}
\end{zed}

Often in an abelian group the binary operation is denoted as addition $x \addG y$,
the identity element as a zero $\zeroG$, and the inverse operation as negation $\negG x$.

\begin{example}[Integer Addition]
Addition over the integers is an abelian group.

\begin{zed}
	(\num, (\_ + \_)) \in abgroup[\num]
\end{zed}

\end{example}

\subsection{Homomorphisms}

A homomorphism of abelian groups is a homomorphism of the underlying groups.

\begin{schema}{AbelianGroup\_Hom}[\genT, \genU]
	Group\_Hom[\genT, \genU] \\
	Group[\genT] \\
	Group'[\genU]
\end{schema}

Let $abgroup\_Hom[\genT, \genU]$ be the set of all abelian group homomorphisms
from abelian groups in $\genT$ to abelian groups in $\genU$.

\begin{zed}
	abgroup\_Hom[\genT, \genU] == \{~ AbelianGroup\_Hom[\genT, \genU] @ F ~\}
\end{zed}

Let $abgroup\_hom(\strucA, \strucA')$ be the subset of abelian group homomorphisms
from $\strucA$ to $\strucA'$.

\begin{zed}
	abgroup\_hom[\genT, \genU] == \\
	\t1	(\lambda \strucA: abgroup[\genT]; \strucA': abgroup[\genU] @ \\
	\t2		\{~ (\strucA, \strucA') ~\} \dres abgroup\_Hom[\genT, \genU])
\end{zed}

\printbibliography

\end{document}